

## 1. 아래 쿼리 실행 후 Partition_name 확인

```sql
SELECT TABLE_SCHEMA, TABLE_NAME, PARTITION_NAME, PARTITION_ORDINAL_POSITION, TABLE_ROWS
FROM information_schema.PARTITIONS
WHERE TABLE_NAME = 'device_log';
```


## 2. 아래 쿼리를 실행한다.

```sql
drop table if exists device_log;

create table device_log (
	device_log_id bigint not null auto_increment,
	create_time datetime not null,
	message varchar(255),
	group_id bigint,
	group_name varchar(40),
	user_id bigint,
	user_name varchar(128),
	device_id bigint,
	factory varchar(40),
	area varchar(40),
	bay varchar(40),
	target varchar(40),
	machine_name varchar(40),	
	ip varchar(40),
	remote_control bit NOT NULL,
	primary key (device_log_id, create_time)
) engine=InnoDB DEFAULT CHARSET=utf8;

CREATE INDEX device_log_i1 ON device_log (create_time);

alter table device_log PARTITION BY RANGE (TO_DAYS( create_time )) (
PARTITION p_2022_07 VALUES LESS THAN  (TO_DAYS('2022-08-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2022_08 VALUES LESS THAN  (TO_DAYS('2022-09-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2022_09 VALUES LESS THAN  (TO_DAYS('2022-10-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2022_10 VALUES LESS THAN  (TO_DAYS('2022-11-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2022_11 VALUES LESS THAN  (TO_DAYS('2022-12-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2022_12 VALUES LESS THAN  (TO_DAYS('2023-01-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2023_01 VALUES LESS THAN  (TO_DAYS('2023-02-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2023_02 VALUES LESS THAN  (TO_DAYS('2023-03-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2023_03 VALUES LESS THAN  (TO_DAYS('2023-04-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2023_04 VALUES LESS THAN  (TO_DAYS('2023-05-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2023_05 VALUES LESS THAN  (TO_DAYS('2023-06-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2023_06 VALUES LESS THAN  (TO_DAYS('2023-07-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2023_07 VALUES LESS THAN  (TO_DAYS('2023-08-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2023_08 VALUES LESS THAN  (TO_DAYS('2023-09-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2023_09 VALUES LESS THAN  (TO_DAYS('2023-10-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2023_10 VALUES LESS THAN  (TO_DAYS('2023-11-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2023_11 VALUES LESS THAN  (TO_DAYS('2023-12-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2023_12 VALUES LESS THAN  (TO_DAYS('2024-01-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2024_01 VALUES LESS THAN  (TO_DAYS('2024-02-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2024_02 VALUES LESS THAN  (TO_DAYS('2024-03-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2024_03 VALUES LESS THAN  (TO_DAYS('2024-04-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2024_04 VALUES LESS THAN  (TO_DAYS('2024-05-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2024_05 VALUES LESS THAN  (TO_DAYS('2024-06-01 00:00:00')) ENGINE = InnoDB,
PARTITION p_2024_06 VALUES LESS THAN  (TO_DAYS('2024-07-01 00:00:00')) ENGINE = InnoDB
);
```